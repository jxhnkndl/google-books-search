(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{52:function(e,t,n){},71:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(18),r=n.n(a),o=(n(52),n(32)),s=n(6),i=n(25),l=n.n(i),d=function(e){return l.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&maxResults=10"))},u=function(){return l.a.get("/api/books")},j=function(e){return l.a.post("/api/books",e)},h=n(35),b=n(27),p=(n(71),n(3));function f(){return Object(p.jsxs)(h.a,{bg:"dark",variant:"dark",className:"main-nav",children:[Object(p.jsx)(h.a.Brand,{href:"#home",children:"Google Books"}),Object(p.jsxs)(b.a,{children:[Object(p.jsx)(b.a.Link,{href:"/search",children:"Search"}),Object(p.jsx)(b.a.Link,{href:"/saved",children:"Saved"})]})]})}var x=n(45),m={header:{backgroundImage:"url(".concat("/imgs/bg-books.jpg",")"),backgroundPosition:"center",backgroundSize:"cover"},jumbotron:{backgroundColor:"rgba(21, 32, 43, 0.6)"}};function v(){return Object(p.jsx)("header",{style:m.header,children:Object(p.jsx)(x.a,{style:m.jumbotron,className:"text-white p-5 mb-0",children:Object(p.jsxs)("div",{className:"text-left",children:[Object(p.jsx)("h1",{children:"Google Books Search"}),Object(p.jsx)("h4",{className:"font-weight-light",children:"Find and Save Your Favorite Books"})]})})})}var O=n(13),g=n.n(O),k=n(17),w=n(15),N=n(26),y=n(19),S=function(e){if(1===e.length)return e[0];if(2===e.length)return"".concat(e[0]," and ").concat(e[1]);if(e.length>2){var t="";return e.forEach((function(n,c){c===e.length-1?t+="and ".concat(n):t+="".concat(n,", ")})),t}},B=n(47);function C(e){var t=Object(c.useState)({id:e._id,title:e.title,authors:e.authors,description:e.description,image:e.image,link:e.link}),n=Object(w.a)(t,2),a=n[0],r=(n[1],Object(s.f)()),o=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(a);case 3:t=e.sent,console.log(t),console.log("Book saved."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{id:e.id,className:"book bg-light text-secondary rounded p-4 my-3",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:"col-12 col-md-2",children:Object(p.jsx)(B.a,{src:e.image,rounded:!0,fluid:!0})}),Object(p.jsxs)("div",{className:"col-12 col-md-10",children:[Object(p.jsx)("p",{className:"h5 text-white",children:e.title}),Object(p.jsx)("p",{children:S(e.authors)}),Object(p.jsx)("p",{children:e.description}),Object(p.jsx)(y.a,{className:"py-2 px-4 mr-2",variant:"primary",onClick:function(){window.location.href=e.link},children:"View"}),"/search"===r.pathname||"/"===r.pathname?Object(p.jsx)(y.a,{className:"py-2 px-4 mr-2",variant:"secondary",onClick:function(){return o()},children:"Save"}):Object(p.jsx)(y.a,{className:"py-2 px-4 mr-2",variant:"danger",children:"Delete"})]})]})})}n(80);function E(){var e=Object(c.useState)(""),t=Object(w.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),o=Object(w.a)(r,2),s=o[0],i=o[1],l=Object(c.useState)({}),u=Object(w.a)(l,2),j=(u[0],u[1],function(){var e=Object(k.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d(n);case 4:c=e.sent,i(c.data.items),a(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}());return Object(p.jsxs)("section",{children:[Object(p.jsxs)("div",{className:"rounded px-5 pt-5 pb-1",children:[Object(p.jsx)("h3",{className:"text-secondary",children:"Search Google Books"}),Object(p.jsxs)(N.a,{children:[Object(p.jsx)(N.a.Group,{controlId:"form-title",children:Object(p.jsx)(N.a.Control,{className:"input bg-dark text-secondary",type:"text",placeholder:"Enter a Book Title...",onChange:function(e){return a(e.target.value)},value:n})}),Object(p.jsx)(y.a,{variant:"primary",onClick:j,children:"Search"})]})]}),s.length?Object(p.jsxs)("div",{className:"rounded p-5",children:[Object(p.jsx)("h4",{className:"text-secondary",children:"Results"}),s.map((function(e,t){var n=e.volumeInfo,c=(n.id,n.authors),a=n.description,r=n.imageLinks,o=n.infoLink,s=n.title;if(r)return Object(p.jsx)(C,{id:t,title:s,authors:c,description:a,image:r.thumbnail,link:o},t)}))]}):Object(p.jsx)("div",{className:"rounded p-5",children:Object(p.jsx)("h4",{className:"text-secondary",children:"No Results to Display"})})]})}function L(e){var t=Object(c.useState)([]),n=Object(w.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){o()}),[]);var o=function(){var e=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:t=e.sent,console.log(t),r(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)("section",{children:a.length?Object(p.jsxs)("div",{className:"rounded p-5",children:[Object(p.jsx)("h3",{className:"text-secondary",children:"Saved Books"}),a.map((function(e,t){return console.log(e),Object(p.jsx)(C,{id:e._id,title:e.title,authors:e.authors,description:e.description,image:e.image,link:e.link},e._id)}))]}):Object(p.jsx)("div",{className:"rounded p-5",children:Object(p.jsx)("h4",{className:"text-secondary",children:"No Saved Books to Display"})})})}n(81);function D(){return Object(p.jsx)("footer",{className:"bg-light py-2 mt-5",children:Object(p.jsx)("p",{className:"text-white text-center ",children:"Copyright 2021"})})}n(82);function G(){return Object(p.jsx)("div",{className:"app-container bg-dark",children:Object(p.jsxs)(o.a,{children:[Object(p.jsx)(f,{}),Object(p.jsx)(v,{}),Object(p.jsx)("main",{className:"container mb-5",children:Object(p.jsxs)(s.c,{children:[Object(p.jsx)(s.a,{exact:!0,path:"/",component:E}),Object(p.jsx)(s.a,{exact:!0,path:"/search",component:E}),Object(p.jsx)(s.a,{exact:!0,path:"/saved",component:L})]})}),Object(p.jsx)(D,{})]})})}var I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(p.jsx)(G,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");I?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):R(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):R(e)}))}}()}},[[83,1,2]]]);
//# sourceMappingURL=main.4532b59c.chunk.js.map