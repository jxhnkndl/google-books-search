(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{52:function(e,t,n){},71:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(18),r=n.n(a),o=(n(52),n(32)),s=n(6),i=n(20),l=n.n(i),d=function(e){return l.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&maxResults=20"))},u=function(){return l.a.get("/api/books")},h=function(e){return l.a.post("/api/books",e)},j=function(e){return l.a.delete("/api/books/"+e)},b=n(35),p=n(27),f=(n(71),n(3));function x(){return Object(f.jsxs)(b.a,{bg:"dark",variant:"dark",className:"main-nav",children:[Object(f.jsx)(b.a.Brand,{href:"#home",children:"Google Books"}),Object(f.jsxs)(p.a,{children:[Object(f.jsx)(p.a.Link,{href:"/search",children:"Search"}),Object(f.jsx)(p.a.Link,{href:"/saved",children:"Saved"})]})]})}var m=n(45),v={header:{backgroundImage:"url(".concat("/imgs/bg-books.jpg",")"),backgroundPosition:"center",backgroundSize:"cover"},jumbotron:{backgroundColor:"rgba(21, 32, 43, 0.6)"}};function g(){return Object(f.jsx)("header",{style:v.header,children:Object(f.jsx)(m.a,{style:v.jumbotron,className:"text-white p-5 mb-0",children:Object(f.jsxs)("div",{className:"text-left",children:[Object(f.jsx)("h1",{children:"Google Books Search"}),Object(f.jsx)("h4",{className:"font-weight-light",children:"Find and Save Your Favorite Books"})]})})})}var O=n(12),k=n.n(O),w=n(17),N=n(15),y=n(26),S=n(19),B=function(e){if(1===e.length)return e[0];if(2===e.length)return"".concat(e[0]," and ").concat(e[1]);if(e.length>2){var t="";return e.forEach((function(n,c){c===e.length-1?t+="and ".concat(n):t+="".concat(n,", ")})),t}},C=n(47);function E(e){var t=Object(c.useState)({id:e._id,title:e.title,authors:e.authors,description:e.description,image:e.image,link:e.link}),n=Object(N.a)(t,2),a=n[0],r=(n[1],Object(s.f)()),o=function(){var e=Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(a);case 3:t=e.sent,console.log(t),console.log("Book saved."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var t=Object(w.a)(k.a.mark((function t(n){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j(n);case 3:c=t.sent,console.log(c),console.log("Book deleted."),e.loadBooks(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(f.jsx)("div",{id:e.id,className:"book bg-light text-secondary rounded p-4 my-3",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-12 col-md-2",children:Object(f.jsx)(C.a,{src:e.image,rounded:!0,fluid:!0})}),Object(f.jsxs)("div",{className:"col-12 col-md-10",children:[Object(f.jsx)("p",{className:"h5 text-white",children:e.title}),Object(f.jsx)("p",{children:B(e.authors)}),Object(f.jsx)("p",{children:e.description}),Object(f.jsx)(S.a,{className:"py-2 px-4 mr-2",variant:"primary",onClick:function(){window.location.href=e.link},children:"View"}),"/search"===r.pathname||"/"===r.pathname?Object(f.jsx)(S.a,{className:"py-2 px-4 mr-2",variant:"secondary",onClick:function(){return o()},children:"Save"}):Object(f.jsx)(S.a,{className:"py-2 px-4 mr-2",variant:"danger",onClick:function(){return i(e.id)},children:"Delete"})]})]})})}n(80);function L(){var e=Object(c.useState)(""),t=Object(N.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),o=Object(N.a)(r,2),s=o[0],i=o[1],l=Object(c.useState)({}),u=Object(N.a)(l,2),h=(u[0],u[1],function(){var e=Object(w.a)(k.a.mark((function e(t){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d(n);case 4:c=e.sent,i(c.data.items),a(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}());return Object(f.jsxs)("section",{children:[Object(f.jsxs)("div",{className:"rounded px-5 pt-5 pb-1",children:[Object(f.jsx)("h3",{className:"text-secondary",children:"Search Google Books"}),Object(f.jsxs)(y.a,{children:[Object(f.jsx)(y.a.Group,{controlId:"form-title",children:Object(f.jsx)(y.a.Control,{className:"input bg-dark text-secondary",type:"text",placeholder:"Enter a Book Title...",onChange:function(e){""===n&&i([]),a(e.target.value)},value:n})}),Object(f.jsx)(S.a,{variant:"primary",type:"submit",onClick:h,children:"Search"})]})]}),s.length?Object(f.jsxs)("div",{className:"rounded p-5",children:[Object(f.jsx)("h4",{className:"text-secondary",children:"Results"}),s.map((function(e,t){var n=e.volumeInfo,c=(n.id,n.authors),a=n.description,r=n.imageLinks,o=n.infoLink,s=n.title;if(c&&a&&s&&r)return Object(f.jsx)(E,{id:t,title:s,authors:c,description:a,image:r.thumbnail,link:o},t)}))]}):Object(f.jsx)("div",{className:"rounded p-5",children:Object(f.jsx)("h4",{className:"text-secondary",children:"No Results to Display"})})]})}function D(e){var t=Object(c.useState)([]),n=Object(N.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){o()}),[]);var o=function(){var e=Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("section",{children:a.length?Object(f.jsxs)("div",{className:"rounded p-5",children:[Object(f.jsx)("h3",{className:"text-secondary",children:"Saved Books"}),a.map((function(e,t){return console.log(e),Object(f.jsx)(E,{id:e._id,title:e.title,authors:e.authors,description:e.description,image:e.image,link:e.link,loadBooks:o},e._id)}))]}):Object(f.jsx)("div",{className:"rounded p-5",children:Object(f.jsx)("h4",{className:"text-secondary",children:"No Saved Books to Display"})})})}n(81);function G(){return Object(f.jsx)("footer",{className:"bg-light py-2 mt-5",children:Object(f.jsx)("p",{className:"text-white text-center ",children:"Copyright 2021"})})}n(82);function I(){return Object(f.jsx)("div",{className:"app-container bg-dark",children:Object(f.jsxs)(o.a,{children:[Object(f.jsx)(x,{}),Object(f.jsx)(g,{}),Object(f.jsx)("main",{className:"container mb-5",children:Object(f.jsxs)(s.c,{children:[Object(f.jsx)(s.a,{exact:!0,path:"/",component:L}),Object(f.jsx)(s.a,{exact:!0,path:"/search",component:L}),Object(f.jsx)(s.a,{exact:!0,path:"/saved",component:D})]})}),Object(f.jsx)(G,{})]})})}var R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function W(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(f.jsx)(I,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");R?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):W(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):W(e)}))}}()}},[[83,1,2]]]);
//# sourceMappingURL=main.839d3352.chunk.js.map