(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{53:function(e,t,n){},72:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(15),a=n.n(r),s=(n(53),n(33)),o=n(6),i=n(21),l=n.n(i),d=function(e){return l.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&maxResults=20"))},u=function(){return l.a.get("/api/books")},j=function(e){return l.a.post("/api/books",e)},h=function(e){return l.a.delete("/api/books/"+e)},b=n(36),p=n(28),x=(n(72),n(3));function m(){return Object(x.jsxs)(b.a,{bg:"dark",variant:"dark",className:"main-nav",children:[Object(x.jsx)(b.a.Brand,{href:"#home",children:"Google Books"}),Object(x.jsxs)(p.a,{children:[Object(x.jsx)(p.a.Link,{href:"/search",children:"Search"}),Object(x.jsx)(p.a.Link,{href:"/saved",children:"Saved"})]})]})}var O=n(46),f={header:{backgroundImage:"url(".concat("/imgs/bg-books.jpg",")"),backgroundPosition:"center",backgroundSize:"cover"},jumbotron:{backgroundColor:"rgba(21, 32, 43, 0.6)"}};function v(){return Object(x.jsx)("header",{style:f.header,children:Object(x.jsx)(O.a,{style:f.jumbotron,className:"text-white p-5 mb-0",children:Object(x.jsxs)("div",{className:"text-left",children:[Object(x.jsx)("h1",{children:"Google Books Search"}),Object(x.jsx)("h4",{className:"font-weight-light",children:"Find and Save Your Favorite Books"})]})})})}var g=n(12),k=n.n(g),y=n(18),N=n(16),w=n(27),B=n(20),S=function(e){if(1===e.length)return e[0];if(2===e.length)return"".concat(e[0]," and ").concat(e[1]);if(e.length>2){var t="";return e.forEach((function(n,c){c===e.length-1?t+="and ".concat(n):t+="".concat(n,", ")})),t}},C=function(e){if("s"===e.charAt(4))return e;var t=e.split(":");return t.splice(1,0,"s:"),t.join("")},L=n(48),D=n(19);function E(e){var t=Object(c.useState)({id:e._id,title:e.title,authors:e.authors,description:e.description,image:e.image,link:C(e.link)}),n=Object(N.a)(t,2),r=n[0],a=(n[1],Object(o.f)()),s=function(){var e=Object(y.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(r);case 3:t=e.sent,console.log(t),console.log("Book saved."),D.b.success("Book saved! \ud83c\udf4e"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),D.b.error("Uh oh! Looks like something went wrong. Can you try again? \ud83e\uddd0"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var t=Object(y.a)(k.a.mark((function t(n){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h(n);case 3:c=t.sent,console.log(c),console.log("Book deleted."),D.b.success("Book deleted! \ud83c\udf4e"),e.loadBooks(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),D.b.error("Uh oh! Looks like something went wrong. Can you try again? \ud83e\uddd0"),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{id:e.id,className:"book bg-light text-secondary rounded p-4 my-3",children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-12 col-md-2",children:Object(x.jsx)(L.a,{src:e.image,rounded:!0,fluid:!0})}),Object(x.jsxs)("div",{className:"col-12 col-md-10",children:[Object(x.jsx)("p",{className:"h5 text-white",children:e.title}),Object(x.jsx)("p",{children:S(e.authors)}),Object(x.jsx)("p",{children:e.description}),Object(x.jsx)("a",{href:C(e.link),className:"btn btn-primary py-2 px-4 mr-2",target:"_blank",rel:"noopener noreferrer",children:"View"}),"/search"===a.pathname||"/"===a.pathname?Object(x.jsx)(B.a,{className:"py-2 px-4 mr-2",variant:"secondary",onClick:function(){return s()},children:"Save"}):Object(x.jsx)(B.a,{className:"py-2 px-4 mr-2",variant:"danger",onClick:function(){return i(e.id)},children:"Delete"})]})]})})}n(81);function G(){var e=Object(c.useState)(""),t=Object(N.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(N.a)(a,2),o=s[0],i=s[1],l=Object(c.useState)({}),u=Object(N.a)(l,2),j=(u[0],u[1],function(){var e=Object(y.a)(k.a.mark((function e(t){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d(n);case 4:c=e.sent,i(c.data.items),r(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}());return Object(x.jsxs)("section",{children:[Object(x.jsxs)("div",{className:"rounded px-5 pt-5 pb-1",children:[Object(x.jsx)("h3",{className:"text-secondary",children:"Search Google Books"}),Object(x.jsxs)(w.a,{children:[Object(x.jsx)(w.a.Group,{controlId:"form-title",children:Object(x.jsx)(w.a.Control,{className:"input bg-dark text-secondary",type:"text",placeholder:"Enter a Book Title...",onChange:function(e){""===n&&i([]),r(e.target.value)},value:n})}),Object(x.jsx)(B.a,{variant:"primary",type:"submit",onClick:j,children:"Search"})]})]}),o.length?Object(x.jsxs)("div",{className:"rounded p-5",children:[Object(x.jsx)("h4",{className:"text-secondary",children:"Results"}),o.map((function(e,t){var n=e.volumeInfo,c=(n.id,n.authors),r=n.description,a=n.imageLinks,s=n.infoLink,o=n.title;if(c&&r&&o&&a)return Object(x.jsx)(E,{id:t,title:o,authors:c,description:r,image:a.thumbnail,link:s},t)}))]}):Object(x.jsx)("div",{className:"rounded p-5",children:Object(x.jsx)("h4",{className:"text-secondary",children:"No Results to Display"})})]})}function I(e){var t=Object(c.useState)([]),n=Object(N.a)(t,2),r=n[0],a=n[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){var e=Object(y.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:t=e.sent,a(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)("section",{children:r.length?Object(x.jsxs)("div",{className:"rounded p-5",children:[Object(x.jsx)("h3",{className:"text-secondary",children:"Saved Books"}),r.map((function(e,t){return console.log(e),Object(x.jsx)(E,{id:e._id,title:e.title,authors:e.authors,description:e.description,image:e.image,link:e.link,loadBooks:s},e._id)}))]}):Object(x.jsx)("div",{className:"rounded p-5",children:Object(x.jsx)("h4",{className:"text-secondary",children:"No Saved Books to Display"})})})}n(82);function _(){return Object(x.jsx)("footer",{className:"bg-light py-2 mt-5",children:Object(x.jsx)("p",{className:"text-white text-center ",children:"Copyright 2021"})})}n(83),n(84);function R(){return Object(x.jsx)("div",{className:"app-container bg-dark",children:Object(x.jsxs)(s.a,{children:[Object(x.jsx)(m,{}),Object(x.jsx)(v,{}),Object(x.jsx)("main",{className:"container mb-5",children:Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{exact:!0,path:"/",component:G}),Object(x.jsx)(o.a,{exact:!0,path:"/search",component:G}),Object(x.jsx)(o.a,{exact:!0,path:"/saved",component:I})]})}),Object(x.jsx)(_,{}),Object(x.jsx)(D.a,{position:"top-right",autoClose:3e3,hideProgressionBar:!1,newestOnTop:!0,closeOnClick:!0})]})})}a.a.render(Object(x.jsx)(R,{}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.60d351c4.chunk.js.map